{% extends "base.html" %}

{% block title %}Research Consent - TTS Rating System{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-10">
        <div class="card card-custom">
            <div class="card-body p-5">
                <h2 class="card-title text-center mb-4">
                    <i class="fas fa-info-circle text-primary"></i>
                    Research Study Information & Consent
                </h2>

                <div class="alert alert-info">
                    <strong><i class="fas fa-user-shield"></i> This is a research study</strong>
                </div>

                <h4 class="mt-4 mb-3">Study Purpose</h4>
                <p>
                    This study evaluates the quality of synthetic speech generated by text-to-speech (TTS) systems.
                    Your ratings will help improve speech synthesis technology.
                </p>

                <h4 class="mt-4 mb-3">Mean Opinion Score (MOS) Rating Instructions</h4>
                <p>
                    You will listen to audio samples and rate their <strong>naturalness</strong> using a 5-point scale:
                </p>

                <div class="card mb-3" style="background: #f8f9fa;">
                    <div class="card-body">
                        <table class="table table-bordered mb-0">
                            <thead>
                                <tr>
                                    <th style="width: 15%;">Score</th>
                                    <th style="width: 25%;">Quality</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="text-center"><strong>5</strong></td>
                                    <td><strong>Excellent</strong></td>
                                    <td>Imperceptible from real speech - sounds completely natural</td>
                                </tr>
                                <tr>
                                    <td class="text-center"><strong>4</strong></td>
                                    <td><strong>Good</strong></td>
                                    <td>Perceptible but not annoying - sounds natural with minor imperfections</td>
                                </tr>
                                <tr>
                                    <td class="text-center"><strong>3</strong></td>
                                    <td><strong>Fair</strong></td>
                                    <td>Slightly annoying - noticeably synthetic but acceptable</td>
                                </tr>
                                <tr>
                                    <td class="text-center"><strong>2</strong></td>
                                    <td><strong>Poor</strong></td>
                                    <td>Annoying - clearly synthetic and distracting</td>
                                </tr>
                                <tr>
                                    <td class="text-center"><strong>1</strong></td>
                                    <td><strong>Bad</strong></td>
                                    <td>Very annoying / Unintelligible - difficult to understand or listen to</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <h4 class="mt-4 mb-3">Important Guidelines</h4>
                <ul>
                    <li><strong>Use headphones</strong> for accurate evaluation</li>
                    <li>Listen to each sample carefully before rating</li>
                    <li>You can replay the audio as many times as needed</li>
                    <li>Rate based on overall naturalness, considering pronunciation, prosody, and audio quality</li>
                    <li>There are no right or wrong answers - rate based on your perception</li>
                </ul>

                <h4 class="mt-4 mb-3">Data Collection & Privacy</h4>
                <ul>
                    <li>Your ratings will be stored anonymously with your email address</li>
                    <li>Data will be used for research purposes only</li>
                    <li>Your email is used only to track which samples you've rated (to avoid duplicates)</li>
                    <li>No personal information beyond your email will be collected</li>
                    <li>You can stop participating at any time by closing this page</li>
                </ul>

                <h4 class="mt-4 mb-3">Estimated Time</h4>
                <p>
                    The rating task typically takes 15-30 minutes depending on the number of samples assigned to you.
                </p>

                <div class="alert alert-warning mt-4">
                    <strong><i class="fas fa-exclamation-triangle"></i> Consent Required</strong><br>
                    By clicking "I Consent" below, you acknowledge that:
                    <ul class="mb-0 mt-2">
                        <li>You have read and understood the study information</li>
                        <li>You agree to participate in this research study</li>
                        <li>You consent to the collection of your ratings and email address</li>
                        <li>You understand you can withdraw at any time</li>
                    </ul>
                </div>

                <form method="POST" action="{{ url_for('consent') }}">
                    <div class="text-center mt-4">
                        <button type="submit" name="consent" value="yes" class="btn btn-primary btn-lg me-3">
                            <i class="fas fa-check"></i> I Consent - Begin Rating
                        </button>
                        <a href="{{ url_for('logout') }}" class="btn btn-outline-secondary btn-lg">
                            <i class="fas fa-times"></i> I Do Not Consent
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}